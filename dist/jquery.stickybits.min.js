/**
 * stickybits - Stickybits is a lightweight alternative to `position: sticky` polyfills
 * @version v2.0.1
 * @link https://github.com/dollarshaveclub/stickybits#readme
 * @author Jeff Wainwright <jjwainwright2@gmail.com>
 * @license MIT */
!function(t,s){"object"==typeof exports&&"undefined"!=typeof module?s():"function"==typeof define&&define.amd?define(s):s()}(0,function(){"use strict";function t(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.version="2.0.1",this.userAgent=window.navigator.userAgent||"no `userAgent` provided by the browser",this.props={noStyles:s.noStyles||!1,stickyBitStickyOffset:s.stickyBitStickyOffset||0,parentClass:s.parentClass||"js-stickybit-parent",scrollEl:s.scrollEl||window,stickyClass:s.stickyClass||"js-is-sticky",stuckClass:s.stuckClass||"js-is-stuck",useStickyClasses:s.useStickyClasses||!1,verticalPosition:s.verticalPosition||"top"};var e=this.props;e.positionVal=this.definePosition();var i=e.verticalPosition,o=e.noStyles,n=e.positionVal;this.els="string"==typeof t?document.querySelectorAll(t):t,"length"in this.els||(this.els=[this.els]),this.instances=[];for(var a=0;a<this.els.length;a+=1){var r=this.els[a],l=r.style;if("top"!==i||o||(l[i]=e.stickyBitStickyOffset+"px"),"fixed"!==n&&!1===e.useStickyClasses)l.position=n;else{"fixed"!==n&&(l.position=n);var c=this.addInstance(r,e);this.instances.push(c)}}return this}function s(s,e){return new t(s,e)}if(t.prototype.definePosition=function(){for(var t=["","-o-","-webkit-","-moz-","-ms-"],s=document.head.style,e=0;e<t.length;e+=1)s.position=t[e]+"sticky";var i=void 0!==s.position?s.position:"fixed";return s.position="",i},t.prototype.addInstance=function(t,s){var e=this,i={el:t,parent:t.parentNode,props:s},o=i.props;i.parent.className+=" "+s.parentClass;var n=o.scrollEl;return i.isWin=n===window,i.isWin||(n=this.getClosestParent(i.el,n)),this.computeScrollOffsets(i),i.state="default",this.stateContainer=function(){e.manageState(i)},n.addEventListener("scroll",this.stateContainer),i},t.prototype.getClosestParent=function(t,s){var e=document.querySelector(s),i=t;if(i.parentElement===e)return e;for(;i.parentElement!==e;)i=i.parentElement;return e},t.prototype.computeScrollOffsets=function(t){var s=t,e=s.props,i=s.parent,o=s.isWin,n=0,a=i.getBoundingClientRect().top;return o||"fixed"!==e.positionVal||(n=e.scrollEl.getBoundingClientRect().top,a=i.getBoundingClientRect().top-n),s.offset=n+e.stickyBitStickyOffset,s.stickyStart=a,s.stickyStop=s.stickyStart+i.offsetHeight-(s.el.offsetHeight-s.offset),s},t.prototype.toggleClasses=function(t,s,e){var i=t,o=i.className.split(" ");e&&-1===o.indexOf(e)&&o.push(e);var n=o.indexOf(s);-1!==n&&o.splice(n,1),i.className=o.join(" ")},t.prototype.manageState=function(t){var s=t,e=s.el,i=s.props,o=s.state,n=s.stickyStart,a=s.stickyStop,r=e.style,l=i.noStyles,c=i.positionVal,p=i.scrollEl,f=i.stickyClass,u=i.stuckClass,y=i.verticalPosition,d=p.requestAnimationFrame;void 0!==d&&(d=function(t){t()});var h=this.toggleClasses,v=s.isWin?p.scrollY||p.pageYOffset:p.scrollTop,k=v>n&&v<a&&("default"===o||"stuck"===o),m=v<n&&"sticky"===o,g=v>a&&"sticky"===o;return k?(s.state="sticky",d(function(){h(e,u,f),r.position=c,l||(r.bottom="",r[y]=i.stickyBitStickyOffset+"px")})):m?(s.state="default",d(function(){h(e,f),"fixed"===c&&(r.position="")})):g&&(s.state="stuck",d(function(){h(e,f,u),"fixed"!==c||l||(r.top="",r.bottom="0",r.position="absolute")})),s},t.prototype.removeClass=function(t,s){var e=t,i=e.className.split(" "),o=i.indexOf(s);-1!==o&&i.splice(o,1),e.className=i.join(" ")},t.prototype.removeInstance=function(t){var s=t.el,e=t.props,i=this.removeClass;s.style.position="",s.style[e.verticalPosition]="",i(s,e.stickyClass),i(s,e.stuckClass),i(s.parentNode,e.parentClass)},t.prototype.cleanup=function(){for(var t=0;t<this.instances.length;t+=1){var s=this.instances[t];s.props.scrollEl.removeEventListener("scroll",this.stateContainer),this.removeInstance(s)}this.stateContainer=!1,this.manageState=!1,this.instances=[]},"undefined"!=typeof window){var e=window.$||window.jQuery||window.Zepto;e&&(e.fn.stickybits=function(t){s(this,t)})}});