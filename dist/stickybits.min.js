/**
 * stickybits - Stickybits is a lightweight alternative to `position: sticky` polyfills
 * @version v2.0.0
 * @link https://github.com/dollarshaveclub/stickybits#readme
 * @author Jeff Wainwright <jjwainwright2@gmail.com>
 * @license MIT */
!function(t,s){"object"==typeof exports&&"undefined"!=typeof module?module.exports=s():"function"==typeof define&&define.amd?define(s):t.stickybits=s()}(this,function(){"use strict";function t(t,s){var e=this;this.el=t,this.props=s;var i=window;this.props.scrollEl!==window&&(i=function(t,s){var e=document.querySelector(s),i=t;if(i.parentElement===e)return e;for(;i.parentElement!==e;)i=i.parentElement;return e}(this.el,this.props.scrollEl));var o=this.el,n=this.props,l=i===window;this.parent=o.parentNode,this.parent.className+=" "+n.parentClass;var a=this.parent;if(n.off)i.removeEventListener("scroll",this.manageState),this.manageState=!1;else{var r=0,c=void 0,p=function(){if((r+=1)>12)clearInterval(c);else{var t=l||"fixed"!==e.positionVal?0:i.getBoundingClientRect().top;e.offset=t+s.offset,e.stickyStart=l?a.getBoundingClientRect().top:a.getBoundingClientRect().top-e.scrollElOffset,e.stickyStop=e.stickyStart+a.offsetHeight-(o.offsetHeight-e.offset)}};p(),c=setInterval(p,250),this.state="default",i.addEventListener("scroll",this.manageState)}return this}function s(s,e){this.props={interval:e&&e.interval||250,scrollEl:e&&e.scrollEl||window,offset:e&&e.offset||0,verticalPosition:e&&e.verticalPosition||"top",useStickyClasses:e&&e.useStickyClasses||!1,noStyles:e&&e.noStyles||!1,off:e&&e.off||!1,stickyClass:e&&e.stickyClass||"js-is-sticky",stuckClass:e&&e.stuckClass||"js-is-stuck",parentClass:e&&e.parentClass||"js-stickybit-parent"};var i=this.props;i.positionVal=this.definePosition();var o=i.verticalPosition,n=i.noStyles,l=i.positionVal;this.els="string"==typeof s?document.querySelectorAll(s):s,"length"in this.els||(this.els=[this.els]),this.instances=[];for(var a=0;a<this.els.length;a+=1){var r=this.els[a],c=r.style;if("top"!==o||n||(c[o]=this.offset+"px"),"fixed"!==l||!1===i.useStickyClasses)c.position=l;else{var p=new t(r,i);this.instances.push(p)}}return this}return t.prototype.toggleClasses=function(t,s){var e=this.el,i=e.className.split(" ");s&&-1===i.indexOf(s)&&i.push(s);var o=i.indexOf(t);-1!==o&&i.splice(o,1),e.className=i.join(" ")},t.prototype.manageState=function(){var t=this,s=this.props,e=this.noStyles,i=this.positionVal,o=this.scrollEl,n=void 0!==o.requestAnimationFrame?o.requestAnimationFrame:function(t){t()},l=this.state,a=s.stickyClass,r=this.stickyStart,c=this.stickyStop,p=s.stuckClass,f=this.el.style,h=this.toggleClasses,u=this.verticalPosition,d=this.isWin?o.scrollY||o.pageYOffset:o.scrollTop,y=d>r&&d<c&&("default"===l||"stuck"===l),v=d<r&&"sticky"===l,m=d>c&&"sticky"===l;y?(this.state="sticky",n(function(){h(p,a),f.position=i,e||(f.bottom="",f[u]=t.offset+"px")})):v?(this.state="default",n(function(){h(a),"fixed"===i&&(f.position="")})):m&&(this.state="stuck",n(function(){h(a,p),"fixed"!==i||e||(f.top="",f.bottom="0",f.position="absolute")}))},t.prototype.removeClass=function(t,s){var e=t,i=e.className.split(" "),o=i.indexOf(s);-1!==o&&i.splice(o,1),e.className=i.join(" ")},t.prototype.cleanup=function(){var t=this.el,s=t.styles,e=this.removeClass,i=this.props;s.position="",s[this.vp]="",e(t,i.stickyClass),e(t,i.stuckClass),e(t.parentNode,i.parentClass)},s.prototype.definePosition=function(){for(var t=["","-o-","-webkit-","-moz-","-ms-"],s=document.head.style,e=0;e<t.length;e+=1)s.position=t[e]+"sticky";return void 0!==s.position?s.position:"fixed"},function(t,e){return new s(t,e)}});