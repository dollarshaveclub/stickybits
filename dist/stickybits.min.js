/**
 * stickybits - Stickybits is a lightweight alternative to `position: sticky` polyfills
 * @version v2.0.0
 * @link https://github.com/dollarshaveclub/stickybits#readme
 * @author Jeff Wainwright <jjwainwright2@gmail.com>
 * @license MIT */
!function(t,s){"object"==typeof exports&&"undefined"!=typeof module?module.exports=s():"function"==typeof define&&define.amd?define(s):t.stickybits=s()}(this,function(){"use strict";function t(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=s.noStyles,i=void 0!==e&&e,o=s.stickyBitStickyOffset,n=void 0===o?0:o,a=s.parentClass,r=void 0===a?"js-stickybit-parent":a,l=s.scrollEl,c=void 0===l?window:l,p=s.stickyClass,f=void 0===p?"js-is-sticky":p,u=s.stuckClass,y=void 0===u?"js-is-stuck":u,d=s.useStickyClasses,v=void 0!==d&&d,h=s.verticalPosition,k=void 0===h?"top":h;this.version="2.0.0",this.userAgent=window.navigator.userAgent,this.props={noStyles:i,stickyBitStickyOffset:n,parentClass:r,scrollEl:c,stickyClass:f,stuckClass:y,useStickyClasses:v,verticalPosition:k};var m=this.props;m.positionVal=this.definePosition();var g=m.verticalPosition,C=m.noStyles,S=m.positionVal;this.els="string"==typeof t?document.querySelectorAll(t):t,"length"in this.els||(this.els=[this.els]),this.instances=[];for(var x=0;x<this.els.length;x+=1){var O=this.els[x],E=O.style;if("top"!==g||C||(E[g]=m.stickyBitStickyOffset+"px"),"fixed"!==S&&!1===m.useStickyClasses)E.position=S;else{"fixed"!==S&&(E.position=S);var w=this.addInstance(O,m);this.instances.push(w)}}return this}return t.prototype.definePosition=function(){for(var t=["","-o-","-webkit-","-moz-","-ms-"],s=document.head.style,e=0;e<t.length;e+=1)s.position=t[e]+"sticky";var i=void 0!==s.position?s.position:"fixed";return s.position="",i},t.prototype.addInstance=function(t,s){var e=this,i={el:t,parent:t.parentNode,props:s},o=i.props;i.parent.className+=" "+s.parentClass;var n=o.scrollEl;return i.isWin=n===window,i.isWin||(n=this.getClosestParent(i.el,n)),this.computeScrollOffsets(i),i.state="default",this.stateContainer=function(){e.manageState(i)},n.addEventListener("scroll",this.stateContainer),i},t.prototype.getClosestParent=function(t,s){var e=document.querySelector(s),i=t;if(i.parentElement===e)return e;for(;i.parentElement!==e;)i=i.parentElement;return e},t.prototype.computeScrollOffsets=function(t){var s=t,e=s.props,i=s.parent,o=s.isWin,n=0,a=i.getBoundingClientRect().top;return o||"fixed"!==e.positionVal||(n=e.scrollEl.getBoundingClientRect().top,a=i.getBoundingClientRect().top-n),s.offset=n+e.stickyBitStickyOffset,s.stickyStart=a,s.stickyStop=s.stickyStart+i.offsetHeight-(s.el.offsetHeight-s.offset),s},t.prototype.toggleClasses=function(t,s,e){var i=t,o=i.className.split(" ");e&&-1===o.indexOf(e)&&o.push(e);var n=o.indexOf(s);-1!==n&&o.splice(n,1),i.className=o.join(" ")},t.prototype.manageState=function(t){var s=t,e=s.el,i=s.props,o=s.state,n=s.stickyStart,a=s.stickyStop,r=e.style,l=i.noStyles,c=i.positionVal,p=i.scrollEl,f=i.stickyClass,u=i.stuckClass,y=i.verticalPosition,d=p.requestAnimationFrame;void 0!==d&&(d=function(t){t()});var v=this.toggleClasses,h=s.isWin?p.scrollY||p.pageYOffset:p.scrollTop,k=h>n&&h<a&&("default"===o||"stuck"===o),m=h<n&&"sticky"===o,g=h>a&&"sticky"===o;return k?(s.state="sticky",d(function(){v(e,u,f),r.position=c,l||(r.bottom="",r[y]=i.stickyBitStickyOffset+"px")})):m?(s.state="default",d(function(){v(e,f),"fixed"===c&&(r.position="")})):g&&(s.state="stuck",d(function(){v(e,f,u),"fixed"!==c||l||(r.top="",r.bottom="0",r.position="absolute")})),s},t.prototype.removeClass=function(t,s){var e=t,i=e.className.split(" "),o=i.indexOf(s);-1!==o&&i.splice(o,1),e.className=i.join(" ")},t.prototype.removeInstance=function(t){var s=t.el,e=t.props,i=this.removeClass;s.style.position="",s.style[this.vp]="",i(s,e.stickyClass),i(s,e.stuckClass),i(s.parentNode,e.parentClass)},t.prototype.cleanup=function(){for(var t=0;t<this.instances.length;t+=1){var s=this.instances[t];this.removeInstance(s)}this.stateManager=!1,this.instances=[]},function(s,e){return new t(s,e)}});