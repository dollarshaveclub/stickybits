/**
  stickybits - Stickybits is a lightweight alternative to `position: sticky` polyfills
  @version v3.0.2
  @link https://github.com/dollarshaveclub/stickybits#readme
  @author Jeff Wainwright <yowainwright@gmail.com> (https://jeffry.in)
  @license MIT
**/
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e():"function"==typeof define&&define.amd?define(e):e()}(0,function(){"use strict";function t(t,e){var s=void 0!==e?e:{};this.version='"3.0.2"',this.userAgent=window.navigator.userAgent||"no `userAgent` provided by the browser",this.props={noStyles:s.noStyles||!1,stickyBitStickyOffset:s.stickyBitStickyOffset||0,parentClass:s.parentClass||"js-stickybit-parent",scrollEl:s.scrollEl||window,stickyClass:s.stickyClass||"js-is-sticky",stuckClass:s.stuckClass||"js-is-stuck",useStickyClasses:s.useStickyClasses||!1,verticalPosition:s.verticalPosition||"top"};var i=this.props;i.positionVal=this.definePosition()||"fixed";var o=i.verticalPosition,n=i.noStyles,r=i.positionVal;this.els="string"==typeof t?document.querySelectorAll(t):t,"length"in this.els||(this.els=[this.els]),this.instances=[];for(var a=0;a<this.els.length;a+=1){var l=this.els[a],c=l.style;if(c[o]="top"!==o||n?"":i.stickyBitStickyOffset+"px",c.position=r,"fixed"===r||i.useStickyClasses){var p=this.addInstance(l,i);this.instances.push(p)}}return this}if(t.prototype.definePosition=function(){for(var t=["","-o-","-webkit-","-moz-","-ms-"],e=document.head.style,s=0;s<t.length;s+=1)e.position=t[s]+"sticky";var i=e.position?e.position:"fixed";return e.position="",i},t.prototype.addInstance=function(t,e){var s=this,i={el:t,parent:t.parentNode,props:e};this.isWin=this.props.scrollEl===window;var o=this.isWin?window:this.getClosestParent(i.el,i.props.scrollEl);return this.computeScrollOffsets(i),i.parent.className+=" "+e.parentClass,i.state="default",i.stateContainer=function(){return s.manageState(i)},o.addEventListener("scroll",i.stateContainer),i},t.prototype.getClosestParent=function(t,e){var s=document.querySelector(e),i=t;if(i.parentElement===s)return s;for(;i.parentElement!==s;)i=i.parentElement;return s},t.prototype.computeScrollOffsets=function(t){var e=t,s=e.props,i=e.parent,o=!this.isWin&&"fixed"===s.positionVal,n="bottom"!==s.verticalPosition,r=o?document.querySelector(s.scrollEl).getBoundingClientRect().top:0,a=o?i.getBoundingClientRect().top-r:i.getBoundingClientRect().top;return e.offset=r+s.stickyBitStickyOffset,e.stickyStart=n?a-e.offset:0,e.stickyStop=n?a+i.offsetHeight-(e.el.offsetHeight+e.offset):a+i.offsetHeight,e},t.prototype.toggleClasses=function(t,e,s){var i=t,o=i.className.split(" ");s&&-1===o.indexOf(s)&&o.push(s);var n=o.indexOf(e);-1!==n&&o.splice(n,1),i.className=o.join(" ")},t.prototype.manageState=function(t){var e=t,s=e.el,i=e.props,o=e.state,n=e.stickyStart,r=e.stickyStop,a=s.style,l=i.noStyles,c=i.positionVal,p=i.scrollEl,f=i.stickyClass,u=i.stuckClass,y=i.verticalPosition,d=function(t){t()},h=this.isWin&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame)||d,k=this.toggleClasses,m=this.isWin||document.querySelector(p).getBoundingClientRect().top?window.scrollY||window.pageYOffset:document.querySelector(p).scrollTop,v=m<=n&&"sticky"===o,g=m>=r&&"sticky"===o;return m>n&&m<r&&("default"===o||"stuck"===o)?(e.state="sticky",h(function(){k(s,u,f),a.position=c,l||(a.bottom="",a[y]=i.stickyBitStickyOffset+"px")})):v?(e.state="default",h(function(){k(s,f),"fixed"===c&&(a.position="")})):g&&(e.state="stuck",h(function(){k(s,f,u),"fixed"!==c||l||(a.top="",a.bottom="0",a.position="absolute")})),e},t.prototype.removeInstance=function(t){var e=t.el,s=t.props,i=this.toggleClasses;e.style.position="",e.style[s.verticalPosition]="",i(e,s.stickyClass),i(e,s.stuckClass),i(e.parentNode,s.parentClass)},t.prototype.cleanup=function(){for(var t=0;t<this.instances.length;t+=1){var e=this.instances[t];e.props.scrollEl.removeEventListener("scroll",e.stateContainer),this.removeInstance(e)}this.manageState=!1,this.instances=[]},"undefined"!=typeof window){var e=window.u;e&&(e.prototype.stickybits=function(e){new t(this,e)})}});
